<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>C:\Users\s542423\Documents\GitHub\notify-myhabit\notify-myhabit\Pages\AddHabit.cshtml.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
using System;
using System.Collections.Generic;
using System.IO;
using System.Linq;
using MongoDB.Bson;
using System.Threading.Tasks;
using HabitApp.Models;
using HabitApp.Services.Implementations;
using HabitApp.Services.Interfaces;
using Microsoft.AspNetCore.Http;
using Microsoft.AspNetCore.Mvc;
using Microsoft.AspNetCore.Mvc.RazorPages;

namespace HabitApp.Pages
{
    public class AddHabitModel : PageModel
    {
        [BindProperty]
        public AddHabitDataModel AddHabitData { get; set; }
        public void OnGet()
        {

        }

       
        public IActionResult OnPost()
        {
            IAddHabit addHabitService = new AddHabitImpl();
            HabitModel HabitData = new HabitModel();

            HabitData.habitTitle = AddHabitData.habitTitle;
            HabitData.habitDescription = AddHabitData.habitDescription;
            HabitData.habitAudio = AddHabitData.habitAudio;
            HabitData.habitImage = AddHabitData.habitImage;  
            HabitData.habitVideoUrl = AddHabitData.habitVideoUrl;
            HabitData.userId = ObjectId.Parse(AddHabitData.userId);




            bool isSucess = addHabitService.addHabit(HabitData);
             

            if (isSucess)
            {
                return RedirectToPage(&quot;/viewhabits&quot;);
            }


            return null;  
        }


    }
}

    </pre>
    <script type="text/javascript">
      highlightRanges([[19,49,19,53,0],[19,54,19,58,0],[21,9,21,10,1],[23,9,23,10,1],[27,9,27,10,0],[28,13,28,60,0],[29,13,29,53,0],[31,13,31,60,0],[32,13,32,72,0],[33,13,33,60,0],[34,13,34,60,0],[35,13,35,66,0],[36,13,36,68,0],[41,13,41,65,0],[44,13,44,26,0],[45,13,45,14,0],[46,17,46,54,0],[50,13,50,25,0],[51,9,51,10,0]]);
    </script>
  </body>
</html>